<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Hosting Assistant</title>
  <style>
    body {
      background: #0f0f0f;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }.container {
  background: #1a1a1a;
  border: 1px solid #333;
  border-radius: 10px;
  padding: 25px;
  width: 100%;
  max-width: 600px;
  box-shadow: 0 0 20px #00eaff33;
  animation: fadeIn 0.5s ease;
}

h2 {
  text-align: center;
  color: #00eaff;
}

#chatBox {
  height: 300px;
  overflow-y: auto;
  background: #111;
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 15px;
}

.bubble {
  padding: 10px 14px;
  border-radius: 10px;
  margin-bottom: 8px;
  max-width: 90%;
  word-wrap: break-word;
}

.user {
  background: #00eaff;
  color: #000;
  align-self: flex-end;
  margin-left: auto;
}

.ai {
  background: #333;
  color: #fff;
  align-self: flex-start;
  margin-right: auto;
}

input, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 10px;
  border: none;
  font-size: 15px;
  background: #111;
  color: white;
}

button {
  background: linear-gradient(to right, #00eaff, #0088cc);
  color: black;
  font-weight: bold;
  cursor: pointer;
}

.hidden { display: none; }
.loading { text-align: center; color: #888; margin-top: 10px; font-size: 14px; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

  </style>
</head>
<body>  <div class="container" id="loginBox">
    <h2>Login Ke The End Ai</h2>
    <input type="text" id="username" placeholder="Username" />
    <input type="password" id="password" placeholder="Password" />
    <button onclick="login()">Login</button>
    <p id="loginStatus" style="color:#ff4444;text-align:center;margin-top:10px;"></p>
  </div>  <div class="container hidden" id="chatPanel">
    <h2>The End AI Hosting Assistant</h2>
    <div id="chatBox"></div>
    <input type="text" id="question" placeholder="Tulis pertanyaanmu di sini..." />
    <select id="style">
      <option value="ramah">Gaya Ramah</option>
      <option value="sarkas">Gaya Sarkas</option>
      <option value="bocil">Gaya Bocil</option>
      <option value="toxic">Gaya Toxic</option>
      <option value="default">Netral</option>
    </select>
    <button onclick="askAI()">Tanya AI</button>
    <div class="loading" id="loading" style="display:none;">The EndAI Lagi Mikir...</div>
    <button onclick="logout()" style="margin-top: 10px; background:#333; color:white;">Logout</button>
  </div>  <script>
    const users = {
      "Zal": "123",
      "TheEndAi": "12345"
    };

    function login() {
      const u = document.getElementById("username").value;
      const p = document.getElementById("password").value;
      const status = document.getElementById("loginStatus");

      if (users[u] && users[u] === p) {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("chatPanel").classList.remove("hidden");
      } else {
        status.innerText = "‚ùå Username atau password salah!";
      }
    }

    function logout() {
      document.getElementById("chatPanel").classList.add("hidden");
      document.getElementById("loginBox").classList.remove("hidden");
      document.getElementById("username").value = "";
      document.getElementById("password").value = "";
      document.getElementById("chatBox").innerHTML = "";
    }

    async function askAI() {
      const question = document.getElementById("question").value.trim();
      const style = document.getElementById("style").value;
      const chatBox = document.getElementById("chatBox");
      const loading = document.getElementById("loading");

      if (!question) return;

      addBubble("Kamu : " + question, "user");
      document.getElementById("question").value = "";
      loading.style.display = "block";

      try {
                const res = await fetch("http://159.65.12.204:8000/api/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: question, style })
        });

        const data = await res.json();
        addBubble("ü§ñ The End AI : " + (data.response || "Ga bisa jawab bang"), "ai");
      } catch (err) {
        addBubble("‚ùå Gagal konek ke AI", "ai");
      }

      loading.style.display = "none";
    }

    function addBubble(text, type) {
      const div = document.createElement("div");
      div.className = `bubble ${type}`;
      div.innerText = text;
      document.getElementById("chatBox").appendChild(div);
      document.getElementById("chatBox").scrollTop = document.getElementById("chatBox").scrollHeight;
    }
  </script></body>
</html>
